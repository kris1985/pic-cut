# 动作

完整的动作配置包含**目标、动作、动作配置项** 3部分，即事件发生后（*满足条件时）， _谁_ 执行 _什么动作_ ， _动作效果_ 如何。

## 1）组件动作​

控制某组件执行动作。先选择该组件作为目标，点击选择动作，将显示该组件支持的动作。

### 布局尺寸类​

动作| 配置项  
---|---  
尺寸| 1）模式：  
百分比：按照原尺寸x百分比设置尺寸值，如宽x120%，高x80%  
绝对尺寸：直接设置尺寸值，如宽高更改到100,50  
2）W：输入数值或关联变量  
3）H：输入数值或关联变量  
移动| 1）模式：  
相对坐标：如X±30,Y±30  
绝对坐标：如X,Y=30,30  
2）X：输入数值或关联变量  
3）Y：输入数值或关联变量  
旋转| 1）模式：  
相对角度：如旋转角度±30°  
绝对角度：如旋转到30°  
2）角度值：输入数值或关联变量  
3）参考偏移X、Y：默认旋转轴心为目标组件的左上角，若要将其它位置作为旋转中心，可设置相对于左上角的偏移量  
  
### 文本类​

动作| 配置项  
---|---  
文本样式| 1）颜色：颜色选择器  
2）字号：输入数值或关联变量   
3）格式：粗体、斜体、下划线   
4）水平对齐：左侧、居中、右侧对齐   
5）字间距：输入数值或关联变量   
6）行间距：输入数值或关联变量  
注：复合组件暂不支持其子元素的文本样式控制，如菜单、图表、运行模块等  
文本内容| 1）文本内容：输入文本或关联变量  
注：无文本属性的组件或文本含功能性的组件暂不支持文本内容的控制，  
如读写组件、图表、筛选控制器、多语言切换等  
  
### 外观类​

动作| 配置项  
---|---  
背景| 1）颜色：颜色选择器  
边框| 1）颜色：颜色选择器   
2）线宽：输入数值或关联变量   
3）线型：当前只支持的线型  
阴影| 1）模式：外部、内部  
2）水平：数值（数值条调整）   
3）垂直：数值（数值条调整）   
4）模糊：数值（数值条调整）   
5）大小：数值（数值条调整）   
6）颜色：颜色选择器  
圆角| 1）圆角：输入数值或关联变量  
  
### 可见性类​

动作| 配置项  
---|---  
显示/隐藏| 1）模式：显示、隐藏、切换  
不透明度| 1）不透明度：输入数值或关联变量(单位默认%）  
闪烁| 1）模式：开始闪烁、停止闪烁   
2）闪烁速率：慢、中、快  
  
### 操作类​

动作| 配置项  
---|---  
启用/禁用| 1）模式：启用、禁用、切换  
注：运行后，若组件禁用，功能及事件不生效，同时鼠标悬浮组件时，鼠标光标改为禁用  
触发事件| 1）事件：组件事件列表  
注：为了避免触发死循环，请勿配置触发自身，或隔代嵌套触发，如A->B->C->A，  
否则运行时事件将报错不执行  
  
### 私有动作​

动作| 配置项  
---|---  
设置图片  
(图片组件私有动作)| 目标图片组件，将切换显示所设置的图片（从图库素材中选择的图片）  
获取控件值至变量  
(含输入功能组件私有动作)| 获取组件当前的控件值，将其赋值至所关联的变量  
支持组件范围：  
基础控件：下拉列表、输入框、时间选择  
读写控件：数值输入、读写框、下拉控制、复选控制、单选控制、  
控制控件：筛选器  
设置控件值  
(含输入功能组件私有动作)| 将所设置的目标值传至组件，实现自动传参  
支持组件范围：  
基础控件：下拉列表、输入框、时间选择  
控制控件：筛选器（设置筛选条件自动查询）  
设置容器画面  
(画面容器组件私有动作)| 目标画面容器，将切换至所选中的目标画面  
  
## 2）页面动作​

控制页面执行页面动作。先选择页面控制器作为目标，点击选择动作，将显示支持页面动作。

动作| 配置项  
---|---  
跳转画面| 若主页面或其页面组件配置触发的事件，则主页面切换至所选中的目标画面；  
若弹出窗口的页面或其页面组件配置触发的事件，则当前弹窗切换至所选中的目标画面；  
若系统全局触发的事件，默认主页面切换至所选中的目标画面；  
关闭画面| 若主页面或其页面组件配置触发的事件，为关闭所有弹出窗口；  
若弹出窗口的页面或其页面组件配置触发的事件，关闭当前弹窗；  
若系统全局触发的事件，默认同主页面，关闭所有弹出窗口；  
重载画面| 若主页面或其页面组件配置触发的事件，则刷新主页面；  
若弹出窗口的页面或其页面组件配置触发的事件，则刷新当前弹窗；  
若系统全局触发的事件，默认刷新主页面；  
返回  
上一画面| 若主页面或其页面组件配置触发的事件，则主页面返回上一画面  
若弹出窗口的页面或其页面组件配置触发的事件，则当前弹窗返回上一画面  
若系统全局触发的事件，默认主页面返回上一画面  
注：支持多层返回  
弹出画面| 1）目标画面：选择需弹出的画面   
2）标题：输入弹窗标题   
3）是否固定尺寸：  
①勾选，则自定义弹窗WH  
②非勾选，窗口尺寸自适应目标画面大小  
4）属性：   
①固定：关闭弹窗后才能继续操作   
②自由：独立窗口，可最小化窗口   
5）是否提供窗口右上角的关闭  
导出画面| 1）格式：pdf、图片   
2）纸张大小：选择导出PDF纸张大小（格式为图片时配置无效）  
3）布局：选择纸张纵向、横向（格式为图片时配置无效）  
4）文件命名：导出的文件名称支持预定义（文件命名规则：自定义部分 _导出时间，如日产量 _202205011000）   
5）保存路径：可指定保存路径，触发后直接自动导出该路径下，若无设置，默认在触发导出时自行选择保存路径  
注：  
若主页面或其页面组件配置触发的事件，则导出主页面，弹窗不导出；  
若弹出窗口的页面或其页面组件配置触发的事件，仅导出当前弹窗的内容；  
若系统全局触发的事件，默认导出主页面；  
打印画面| 调起并传输页面至打印机，打印内容规则同上导出画面  
导出  
图表数据| 1）关联图表：先选择目标画面，再选择画面中需导出的图表   
2）导出格式：excel  
3）导出内容：图表数据、控制条件、图表效果（枚举多选）   
4）文件名格式：导出的文件名称支持预定义（文件命名规则：自定义部分 _导出时间，如日产量 _202205011000）   
5）保存路径：可指定保存路径，触发后直接自动导出该路径下，若无设置，默认在触发导出时自行选择保存路径  
注：  
1)若执行该动作时，该目标画面未在窗口运行，即找不到对应图表，将无法执行导出  
2)路径规范为斜杠/,非反斜杆\,从windows资源管理器复制过来的路径请按规范修改为斜杠  
      
    
    特别说明：  
    1）跳转、重载、返回、导出、打印画面：基于事件触发主体所在窗口层级。  
    若主页面或其页面组件配置触发的事件，则在主页面中动作；  
    若弹出窗口的页面或其页面组件配置触发的事件，则在当前弹窗中动作；  
    若系统全局触发的事件，默认在主页面中动作。  
    2）关闭画面：与事件触发主体相关。  
    若主页面或其页面组件配置触发的事件，为关闭所有弹出窗口；  
    若弹出窗口的页面配置，关闭当前弹窗；  
    若系统全局触发的事件，默认同主页面，关闭所有弹出窗口。  
    3）弹出画面：与触发主体无关，弹出新窗口；  
    4）导出图表数据：与触发主体无关，若执行该动作时，该目标画面未在窗口运行，即找不到对应图表，将无法执行导出  
    

## 3）系统动作​

控制系统执行系统动作。先选择系统控制器作为目标，点击选择动作，将显示支持系统动作。

动作| 配置项  
---|---  
系统提示| 系统上方吐司提示，提示文本可自定义静态或动态，根据提示属性选择类型  
设置变量值| 将目标变量设置为目标值  
等待| 系统等待时长，如等待1s后再执行下一个动作  
发送广播| 向外发送广播，以广播内容作为标记，搭配“接收广播”事件，可识别匹配进行相应的处理  
开启/关闭虚拟键盘| /  
播放音频/停止音频播放| 上传音频文件，可设置是否重复播放  
认证登录| 系统除了标准的账号密码登录，还支持多种其他的认证方式，如读卡、第三方系统、生物识别等，这些扩展认证方式需要二次开发  
关机| 关闭软件并关机（仅本地桌面端生效，web端不生效）  
请求API| 请求接口  
退出客户端| 同悬浮球“退出系统”功能，触发动作提示二次确认弹窗，若通过web页面操作，则动作失效  
最小化| 系统最小化到托盘，不退出系统  
  
## 注意事项​

1）若为满足条件后的动作，点击条件层级下的+动作；若为事件发生后的动作，点击底下的+动作；

2）动作按照从上到下的顺序执行，悬浮条件区域，点击

可调整条件顺序，点击

可删除条件，点击

可复制动作，点击

可在该动作下方粘贴动作；
    
    
    注：  
    1）动作是顺序执行，顺序指得是动作执行发起，非一个动作完成后再执行下一个动作，若需待执行后再执行可添加【系统动作-等待】  
    2）连续的【系统动作-设置变量】，批量同时下发，若分步下发，可插入【系统动作-等待】  
    

3）因不同触发主体的事件类型略有差异，所以支持的动作也有差异，具体如下：

事件触发主体| 是否支持页面动作| 是否支持组件动作| 是否支持系统动作  
---|---|---|---  
全局事件| √| x| √  
画面事件| 画面载入、变量事件支持   
画面退出不支持| 画面载入、变量事件支持（目标为本页面内的组件）   
画面退出不支持| √  
组件事件| √| √  
(目标为同页面内的组件）| √


---

该文档地址来源：https://cms-docs.shengyc.com/cms/tutorial/%E9%A1%B5%E9%9D%A2%E7%AE%A1%E7%90%86/%E9%A1%B5%E9%9D%A2%E4%BD%BF%E7%94%A8%E8%BF%9B%E9%98%B6/%E4%BA%8B%E4%BB%B6%E5%8A%A8%E4%BD%9C/%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/%E5%8A%A8%E4%BD%9C