# 趋势监控

## 适用场景​

图表| 样例| 适用场景  
---|---|---  
趋势监控| | 适用于反应工艺参数值在一段时间内，随时间变化而变化趋势的图表  
  
## 数据配置​

趋势组和趋势参数在【趋势配置】模块中定义（请参考[这里](/cms/tutorial/页面管理/使用运行模块/趋势配置)），即在业务运行模块中定义数据；监控组件为关联对应的分组，将分组下的趋势参数数据可视化展示为趋势曲线。

### 1）绑定趋势组​

初始组件未绑定趋势组，可下拉选择绑定分组

### 2）实时&历史数据查询控制​

实时曲线：可查看近段时间的趋势变化，其中支持3种实时趋势时间跨度的配置定义，您可按需配置

类别| 曲线效果| 配置位置  
---|---|---  
固定跨度| 以当前系统时间作为趋势数据缓存的终止时间，往前推所定义的跨度，如跨度为1小时，则实时绘制近1小时的趋势曲线| 本处（监控组件-查询条件-实时）  
动态跨度-信号| 实时模式时，进入该分组时，默认绘制“绘制信号”最近触发时间到当前时间的历史数据，随着实时不断暂存数据及绘制曲线，当清除信号触发时，结束绘制，默认自动清除实时曲线| 趋势配置模块-曲线分组-实时曲线  
动态跨度-标签| 进入组件时，默认绘制最新一个业务标签的最早时间到当前时间的历史数据，随着实时采集不断暂存数据及绘制曲线，当最新业务标签更新，结束绘制，默认自动清空数据重新开始实时绘制| 趋势配置模块-曲线分组-业务标签  
      
    
    特别说明：  
    1.固定跨度由内置实时范围选择器控制（即勾选自定义范围），其中跨度可自由调整，另外可根据用户操作需求，控制实时范围选择器的开放显隐；  
    2.若配置多个实时跨度，按照最新标签>信号>实时范围选择器(固定跨度）优先级其中1个生效。  
    

历史模式：可自定义筛选条件，其中历史查询为关联画布上已有筛选或新建筛选器，可自定义筛选条件，可根据用户操作需求，可控制自动控制筛选器的开放显隐。更多配置参考[筛选器](/cms/tutorial/页面管理/搭建分析看板/添加控制组件/筛选器)
    
    
    为了避免数据量过载造成图表加载耗时过长，可适当设定图表展示的最大数据  
    1）编辑模式：图表在当前页面编辑窗口展示的最大数据条数  
    2）运行模式：图表在运行编辑窗口展示的最大数据条数  
    3）业务段数：通过业务标签查询，回溯业务时段的最大数量  
    

## 样式配置​

1）图表设置：

  * 线条设置：
    * 支持调整线型、线宽
    * 支持直线、矩形、阶梯的连接方式
    * 支持空数据自定义处理（默认连接为0）
  * 显示数据点：支持调整数据点形状及大小
  * 显示标记点：支持调整标记点形状及大小
  * 坐标系位置：默认根据图表元素自适应位置，可自定义上下左右边距
  * 区域缩放：启用后，提供以下三种缩放操作方式，其中轴开启则可缩放，反之即固定不缩放
    * 内置缩放：内置于坐标系中，可在坐标系上通过鼠标拖拽、鼠标滚轮、手指滑动(触屏上)来缩放或漫游坐标系
    * 滑动条缩放：有单独的滑动条，可在滑动条上进行缩放或漫游，点击

可设置初始显示数量及移动手柄形状
    * 框选缩放：图表右上角工具条将提供缩放按钮，点击框选进行数据区域缩放，点击还原将恢复上一次数据区域



2）图例：

  * 可控制不同展示位置，调整字体颜色，选择是否展示



3）时间X轴：

  * 轴标题：可自定义标题内容，控制不同展示位置，调整字体颜色
  * 坐标标签：提供以下三种展示方式，可调整字体颜色
    * 自适应：标签自动根据间距位置优化过滤间隔显示
    * 全量显示：原始标签全部展示
    * 自定义：可自定义标签的旋转角度，间隔显示数量
    * 标签格式：可通过工具条将轴标签内容模式进行切换，支持自然时间显示或相对起点时间差显示，本处定义各模式的显示格式
  * 轴线：可调整线型、线宽，颜色，选择是否展示
  * 刻度：可调整线型、线宽，颜色，选择是否展示



4）Y轴：

  * 轴定义：默认存在Y1轴，点击

可新增多Y轴，点击

可重命名，点击

可删除轴
  * 轴配置：
    * 轴标题：可自定义标题内容，控制不同展示位置，调整字体颜色
    * 坐标标签：默认根据数值范围自适应显示，可自定义数值范围，调整字体颜色
    * 展示方式：
      * 轴位置：Y轴相对于默认位置及偏移
      * 轴线：可调整线型、线宽，颜色，选择是否展示
      * 网格线：可调整线型、线宽，颜色，选择是否展示
      * 刻度：可调整线型、线宽，颜色，选择是否展示
      * 分割段数：可根据数值范围自适应分割，可自定义分割段数
      * 反转坐标轴：选择后坐标轴数值从上往下反转拓展



5）工具条

  * 位置：可自定义工具条显示位置
  * 显示：可自定义工具条显示方式（不显示、折叠显示、固定显示）



## 运行应用​

### 1）选择趋势组​

  * 自由下拉选择分组，趋势图将显示分析所选组下的趋势参数

  * 分区：支持将参数分区展示（在趋势配置模块配置参数的分区属性），区号相同的在同一个区展示，如下示

  * Y轴：同区内支持将参数设定不同的参考y轴（在趋势配置模块配置参数的Y轴属性），序号对应即为监控组件y轴顺序




### 2）实时&历史曲线​

​ a）实时曲线：可查看近段时间的趋势变化，并实时平移。 
    
    
    注：实时趋势时间可设置近n时间单位，或通过信号、业务标签，可参考上方数据查询控制说明  
    

​ b）历史曲线：可查看某段时间的趋势变化，根据自定义的筛选条件进行查询更新。
    
    
    注：历史趋势时间可设置自然时间段，如昨天/2023-06-27 8:00:00~2023-06-27 10:00:00，或通过业务标签快速回溯至对应业务发生时间，如查询批次号=ASC001对应时段的趋势数据  
    

​ 筛选器使用请查看[这里](/cms/tutorial/页面管理/搭建分析看板/添加控制组件/筛选器)。

​ c）实时历史切换
    
    
    - 点击趋势图右上方的切换按钮，可切换实时历史模式  
    - 实时->历史:将暂停实时曲线的绘制，若需查询历史数据，可点击筛选器设置筛选条件进行历史查询  
    - 历史->实时:将显示及时实时曲线  
    - 同时在实时模式时，对曲线进行缩放，将暂停实时绘制，便于数据分析，点击切换按钮，可恢复实时绘制  
    

### 3）显隐参数​

  * 点击图例可控制显隐对应的曲线参数



### 4）时间轴缩放​

  * 点击工具条的【内置缩放】，可开启/关闭鼠标缩放和移动时间轴功能
  * 点击工具条的【时间轴滑动】，显示/隐藏时间轴滑块指示器
  * 点击工具条的【放大区域】，开启/关闭框选区域进行缩放功能
  * 点击工具条的【还原】，还原至上一步缩放范围
  * 点击工具条的【重置轴范围】，取消所有缩放操作



### 5）时间轴标签​

  * 时间轴标签支持显示自然时间，或显示相对起点的时间差，点击工具条进行切换



### 6）附加标注​

  * 在趋势分析时，您可能还需要知道的其他信息，如警报、投料或批次等。系统支持将该类附加信息在曲线上标注，如下图示
  * 点击工具条的【显示标注】，可选择标注的显示隐藏



注：附加标注需先定义业务标签及配置该应用请查看【[趋势配置-业务标签-曲线附加标注](/cms/tutorial/页面管理/使用运行模块/趋势配置)】。

### 7）统计分析​

  * 在趋势分析时，您可能关注一些特征值。系统支持自动统计以下特征字段：

  * 按需开启统计特征字段开关、统计表格显示、所需特征字段信息

  * 可设置统计表头与统计表身样式




### 8）导出打印​

  * 可选择趋势图表、趋势数据及筛选条件内容的导出，具体配置请参考【[导出按钮](/cms/tutorial/页面管理/搭建分析看板/添加控制组件/导出按钮)】




---

该文档地址来源：https://cms-docs.shengyc.com/cms/tutorial/%E9%A1%B5%E9%9D%A2%E7%AE%A1%E7%90%86/%E6%90%AD%E5%BB%BA%E5%88%86%E6%9E%90%E7%9C%8B%E6%9D%BF/%E5%BA%94%E7%94%A8%E5%8F%AF%E8%A7%86%E5%8C%96%E7%BB%84%E4%BB%B6/%E8%B6%8B%E5%8A%BF%E7%9B%91%E6%8E%A7