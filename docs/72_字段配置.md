# 字段配置

## 1.概述​

### 1.1字段概念​

数据表的每一行称为【记录】，每一列称为【字段】。单个字段的配置内容，决定了该字段每次的记录内容，不同字段的配置组合，决定了该数据表的归档数据结果，可满足不同的业务数据归档需求。

### 1.2字段使用​

#### 通用说明​

  * 字段名称：单个数据表下，区分不同归档数据的唯一标识，可自定义，但不可重复；

> 注：不管是变量归档还是数据聚合类型的数据表，默认提供记录时间字段，代表当前记录的更新时间，使用时其他自定义字段名称不支持命名为“记录时间”；

  * 字段类型：包括数值、文本、日期三种类型，关联变量或关联字段时，类型自动匹配，配置计算公式时，可自定义设置；

    * 数值：聚合时可配置汇总规则；

    * 文本：聚合时可配置按同一值分组规则；

    * 日期：聚合时可配置按时间维度分组规则；

> 注：1.应用到图表组件上时，维度一般配置文本、日期类型字段，指标一般配置数值类型字段；
> 
> ​ 2.不同类型的字段，可使用TEXT()函数进行转换；
> 
> ​ 3.配置为计算公式时，类型应与计算公式结果相匹配，否则记录为空；




#### 变量归档​

  * 关联变量：关联到一个具体的变量，触发记录时，该字段记录为该变量当前值；

  * 计算公式：配置一个计算公式，可引用其他字段，触发记录时，引用字段代表当前行记录对应字段的值；




#### 数据聚合​

  * 关联字段：关联到原始表的一个字段，必须设置分组或汇总的处理规则：

    * 分组：

字段类型| 支持分组方式| 说明  
---|---|---  
数值| 相同值为一组| 按照字段中的相同值进行分组  
文本| 相同值为一组| 按照字段中的相同值进行分组  
日期| 按年、季、月、周、日、时、分；相同值为一组| 按照字段中拆解对应的时间维度进行分组；按照字段中的相同值进行分组  
    * 汇总：

字段类型| 支持汇总方式| 说明  
---|---|---  
数值| 求和、求平均、最大值、最小值、去重计数、记录个数| 指相同分组内的合计值、平均值、最大值、最小值  
文本| 去重计数、记录个数| 去重计数指相同分组内的相同的值只统计一次，即统计不同值的个数；记录个数指相同分组内的值数量；  
日期| 最早时间、最晚时间| 指相同分组内的最早、最晚时间  
  
> 注：字段配置时，要至少一个分组和一个汇总类型，才具备实际意义，多个分组同时存在时，按字段配置顺序依次分组；

  * 计算公式：配置一个计算公式，可引用其他字段，触发记录时，引用字段代表当前行记录对应字段的值；




### 2.注意事项​

  1. 数据表单表的字段数量，有可配置上限，使用时请控制在合理范围内，例：Mysql类型数据库，可支持的上限为200列，其他类型的数据库可支持更大上限；




---

该文档地址来源：https://cms-docs.shengyc.com/cms/tutorial/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/%E5%AD%97%E6%AE%B5%E9%85%8D%E7%BD%AE