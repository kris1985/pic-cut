# Windows 64ä½ EXE æ‰“åŒ…æŒ‡å—

## ğŸ¯ æ¦‚è¿°
æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†é‹å­å›¾ç‰‡æ™ºèƒ½è£å‰ªå·¥å…·æ‰“åŒ…æˆå¯åœ¨ä»»ä½•Windows 64ä½ç³»ç»Ÿè¿è¡Œçš„ç‹¬ç«‹exeæ–‡ä»¶ã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- âœ… Windows 7/8/10/11 (64ä½)
- âœ… è‡³å°‘ 4GB å†…å­˜
- âœ… è‡³å°‘ 2GB å¯ç”¨ç£ç›˜ç©ºé—´

### è½¯ä»¶è¦æ±‚
1. **Python 3.8+** (64ä½ç‰ˆæœ¬)
   ```bash
   # æ£€æŸ¥Pythonç‰ˆæœ¬
   python --version
   ```

2. **å¿…è¦çš„PythonåŒ…**
   ```bash
   # å®‰è£…ä¾èµ–
   pip install -r requirements.txt
   pip install pyinstaller
   ```

## ğŸš€ å¿«é€Ÿæ‰“åŒ…ï¼ˆæ¨èï¼‰

### æ–¹æ³•1: ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæœ€ç®€å•ï¼‰
1. åŒå‡»è¿è¡Œ `build_win64.bat`
2. ç­‰å¾…æ‰“åŒ…å®Œæˆ
3. åœ¨ `dist` æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ç”Ÿæˆçš„exeæ–‡ä»¶

### æ–¹æ³•2: ä½¿ç”¨Pythonè„šæœ¬
```bash
python build_simple.py
```

## ğŸ”§ è¯¦ç»†æ‰“åŒ…æ­¥éª¤

### æ­¥éª¤1: å‡†å¤‡ç¯å¢ƒ
```bash
# 1. æ£€æŸ¥Pythonç‰ˆæœ¬ï¼ˆå¿…é¡»3.8+ï¼‰
python --version

# 2. å®‰è£…PyInstaller
pip install pyinstaller

# 3. æ£€æŸ¥å…³é”®ä¾èµ–
python -c "import cv2, numpy, PIL, tkinter; print('âœ… æ‰€æœ‰ä¾èµ–æ­£å¸¸')"
```

### æ­¥éª¤2: æ¸…ç†ç¯å¢ƒ
```bash
# åˆ é™¤æ—§çš„æ„å»ºæ–‡ä»¶
rmdir /s build dist __pycache__
del *.spec
```

### æ­¥éª¤3: æ‰§è¡Œæ‰“åŒ…
```bash
# è¿è¡Œæ‰“åŒ…è„šæœ¬
python build_simple.py
```

### æ­¥éª¤4: éªŒè¯ç»“æœ
- æ£€æŸ¥ `dist` æ–‡ä»¶å¤¹
- ç¡®è®¤ç”Ÿæˆäº† `é‹å­å›¾ç‰‡æ™ºèƒ½è£å‰ªå·¥å…·_v2.0_x64.exe`
- æ–‡ä»¶å¤§å°åº”åœ¨ 80-150MB ä¹‹é—´

## ğŸ“¦ æ‰“åŒ…é€‰é¡¹è¯´æ˜

### PyInstaller å‚æ•°è§£é‡Š
```bash
--onefile           # æ‰“åŒ…æˆå•ä¸ªexeæ–‡ä»¶
--windowed          # æ— æ§åˆ¶å°çª—å£
--name=ç¨‹åºå       # æŒ‡å®šexeæ–‡ä»¶å
--hidden-import     # æ˜¾å¼åŒ…å«ä¾èµ–æ¨¡å—
--exclude-module    # æ’é™¤ä¸éœ€è¦çš„æ¨¡å—
--strip             # å»é™¤è°ƒè¯•ç¬¦å·ï¼Œå‡å°æ–‡ä»¶å¤§å°
--noupx             # ä¸ä½¿ç”¨UPXå‹ç¼©ï¼ˆæé«˜å…¼å®¹æ€§ï¼‰
```

### è‡ªå®šä¹‰æ‰“åŒ…å‚æ•°
å¦‚éœ€è‡ªå®šä¹‰ï¼Œå¯ç›´æ¥ä¿®æ”¹ `build_simple.py` ä¸­çš„ `cmd` å‚æ•°åˆ—è¡¨ã€‚

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜1: "PyInstallerä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤"
```bash
# è§£å†³æ–¹æ¡ˆ
pip install pyinstaller
# æˆ–è€…ä½¿ç”¨
python -m pip install pyinstaller
```

#### é—®é¢˜2: "ModuleNotFoundError: No module named 'cv2'"
```bash
# è§£å†³æ–¹æ¡ˆ
pip install opencv-python
```

#### é—®é¢˜3: "tkinteræœªæ‰¾åˆ°"
```bash
# è§£å†³æ–¹æ¡ˆ (é€šå¸¸tkinterå·²å†…ç½®)
# å¦‚æœç¡®å®ç¼ºå¤±ï¼Œé‡æ–°å®‰è£…Pythonæ—¶å‹¾é€‰tk/tclé€‰é¡¹
```

#### é—®é¢˜4: æ‰“åŒ…æˆåŠŸä½†exeæ— æ³•è¿è¡Œ
- ç¡®ä¿ç›®æ ‡ç³»ç»Ÿæ˜¯Windows 64ä½
- æ£€æŸ¥Windows Defenderç­‰æ€æ¯’è½¯ä»¶æ˜¯å¦è¯¯æŠ¥
- å°è¯•åœ¨å‘½ä»¤è¡Œè¿è¡ŒexeæŸ¥çœ‹é”™è¯¯ä¿¡æ¯

#### é—®é¢˜5: exeæ–‡ä»¶è¿‡å¤§ï¼ˆ>200MBï¼‰
- æ£€æŸ¥æ˜¯å¦åŒ…å«äº†ä¸å¿…è¦çš„ä¾èµ–
- ä½¿ç”¨ `--exclude-module` æ’é™¤æ›´å¤šæ¨¡å—
- è€ƒè™‘ä½¿ç”¨ `--upx-dir` è¿›è¡Œå‹ç¼©

#### é—®é¢˜6: æ‰“åŒ…å¾ˆæ…¢æˆ–å¡ä½
- å…³é—­æ€æ¯’è½¯ä»¶çš„å®æ—¶ä¿æŠ¤
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‡å°æ–‡ä»¶å¤§å°
1. **æ’é™¤ä¸å¿…è¦æ¨¡å—**
   ```python
   '--exclude-module=matplotlib',
   '--exclude-module=pandas',
   '--exclude-module=scipy.tests',
   ```

2. **ä½¿ç”¨UPXå‹ç¼©** (å¯é€‰)
   ```python
   # ç§»é™¤ --noupx å‚æ•°
   # æ³¨æ„ï¼šå¯èƒ½å½±å“å…¼å®¹æ€§
   ```

### æé«˜å¯åŠ¨é€Ÿåº¦
1. **ä½¿ç”¨--onediræ¨¡å¼** (å¯é€‰)
   ```python
   # å°† --onefile æ”¹ä¸º --onedir
   # ç”Ÿæˆæ–‡ä»¶å¤¹è€Œéå•æ–‡ä»¶ï¼Œå¯åŠ¨æ›´å¿«
   ```

## ğŸ“ è¾“å‡ºæ–‡ä»¶è¯´æ˜

### æ‰“åŒ…å®Œæˆåçš„æ–‡ä»¶ç»“æ„
```
dist/
â”œâ”€â”€ é‹å­å›¾ç‰‡æ™ºèƒ½è£å‰ªå·¥å…·_v2.0_x64.exe  # ä¸»ç¨‹åºæ–‡ä»¶
â”œâ”€â”€ ä½¿ç”¨è¯´æ˜.txt                        # ç”¨æˆ·ä½¿ç”¨è¯´æ˜
â””â”€â”€ ç‰ˆæœ¬ä¿¡æ¯.txt                        # ç‰ˆæœ¬å’Œæ„å»ºä¿¡æ¯
```

### åˆ†å‘å»ºè®®
1. **æœ€å°åˆ†å‘åŒ…**: ä»… `exe` æ–‡ä»¶
2. **å®Œæ•´åˆ†å‘åŒ…**: `exe` + `ä½¿ç”¨è¯´æ˜.txt` + `ç‰ˆæœ¬ä¿¡æ¯.txt`
3. **ä¸“ä¸šåˆ†å‘åŒ…**: åˆ›å»ºå®‰è£…ç¨‹åºæˆ–å‹ç¼©åŒ…

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

### ä»£ç ç­¾å (å¯é€‰)
ä¸ºé¿å…Windowså®‰å…¨è­¦å‘Šï¼Œå»ºè®®è¿›è¡Œä»£ç ç­¾åï¼š
```bash
# éœ€è¦æœ‰æ•ˆçš„ä»£ç ç­¾åè¯ä¹¦
signtool sign /f mycert.p12 /p password /t http://timestamp.verisign.com/scripts/timstamp.dll "é‹å­å›¾ç‰‡æ™ºèƒ½è£å‰ªå·¥å…·_v2.0_x64.exe"
```

### ç—…æ¯’æ‰«æ
æ‰“åŒ…å®Œæˆåå»ºè®®ï¼š
1. ä½¿ç”¨å¤šä¸ªæ€æ¯’è½¯ä»¶æ‰«æ
2. ä¸Šä¼ åˆ°VirusTotalæ£€æµ‹
3. æµ‹è¯•åœ¨ä¸åŒWindowsç‰ˆæœ¬ä¸Šçš„è¿è¡Œæƒ…å†µ

## ğŸ’¡ é«˜çº§æŠ€å·§

### è‡ªåŠ¨åŒ–æ„å»º
åˆ›å»ºGitHub Actionsæˆ–å…¶ä»–CI/CDæµæ°´çº¿å®ç°è‡ªåŠ¨æ‰“åŒ…ï¼š
```yaml
# .github/workflows/build.yml ç¤ºä¾‹
name: Build Windows EXE
on: [push, pull_request]
jobs:
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
        pip install pyinstaller
    - name: Build EXE
      run: python build_simple.py
    - name: Upload artifacts
      uses: actions/upload-artifact@v2
      with:
        name: windows-exe
        path: dist/
```

### ç‰ˆæœ¬ç®¡ç†
æ¯æ¬¡æ‰“åŒ…æ—¶è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼š
```python
# åœ¨build_simple.pyä¸­æ·»åŠ ç‰ˆæœ¬è¯»å–é€»è¾‘
import json
with open('version.json', 'r') as f:
    version = json.load(f)['version']
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. ç¡®è®¤Pythonå’Œä¾èµ–ç‰ˆæœ¬æ­£ç¡®
3. æŸ¥çœ‹æ‰“åŒ…è¿‡ç¨‹ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
4. åœ¨å¹²å‡€çš„Pythonç¯å¢ƒä¸­é‡è¯•

---

**Happy Building! ğŸ‰** 